<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panaderia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>

<body>
    <div class="container mt-4 border border-dark p-5" style="background-color: #fcfff0ac; border-radius: 16px;">
        <hr class="border border-dark border-2 ">
        <h1 class="text-center p-3 text-warning">PANADERIA</h1>
        <hr class="border border-dark border-2  ">

        <div class="container-fluid mb-5">
            <div class="row">
                <div class="col-md-4 px-5">
                    <img src="../img/2.png" alt="Logo" class="img-fluid"
                        style="width: 6cm; height: 6cm; border-radius: 16px;">
                </div>
                <div class="col-md-4 mt-5">
                    <h5>Panaderia El Sesamo S.A <br>
                        C/ Del Trigo Nº 24 <br>
                        28916 Madrid <br>
                        Telefono: 916945566</h5>
                </div>
                <div class="col-md-4 "></div>
            </div>
            <hr class="border border-dark border-2">
        </div>

        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-2 px-5 ">
                    <div class="input-group input-group-sm mb-3 ">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Codigo:</span>
                        <input type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm" name="codigo" id="codigo" [(ngModel)]="art.codigo">
                    </div>
                </div>

                <div class="col-md-3 px-5">
                    <div class="input-group input-group-sm mb-3">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Producto:</span>
                        <select class="form-control form-select-sm" aria-label="Small select example" id="seleccion"
                            name="producto" [(ngModel)]="art.nombre" (change)="setPrecio()">
                            <option *ngFor="let p of productos" [value]="p.nombre">{{p.nombre}}</option>
                        </select>
                    </div>
                </div>

                <!-- Campo de entrada de precio (inicialmente oculto) -->
                <div class="col-md-2 px-5 ">
                    <div class="input-group input-group-sm mb-3 ">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Precio:</span>
                        <input type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm" readonly id="precio" name="precio"
                            [(ngModel)]="art.precio">
                    </div>
                </div>

                <div class="col-md-3 px-5 ">
                    <div class="input-group input-group-sm mb-3 ">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Cantidad:</span>
                        <input type="number" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm" id="cantidad" name="cantidad"
                            [(ngModel)]="art.cantidad">
                    </div>
                </div>

                <div class="col-md-1 px-5 ">
                    <button id="agregar" class="btn btn-primary" (click)="anadir()">Añadir</button>
                </div>

                <div class="col-md-1 px-5 ">
                    <button id="agregar" class="btn btn-primary" (click)="modificar()">Modificar</button>
                </div>

            </div>
        </div>



        <table class="table mt-4 table-bordered text-center">
            <thead>
                <tr>
                    <th class="bg-warning-subtle">Codigo</th>
                    <th class="bg-warning-subtle">Producto</th>
                    <th class="bg-warning-subtle">Precio U.</th>
                    <th class="bg-warning-subtle">Cantidad</th>
                    <th class="bg-warning-subtle">SubTotal</th>
                    <th class="bg-warning-subtle">Borrar</th>
                    <th class="bg-warning-subtle">Modificar</th>
                </tr>
            </thead>
            <tbody id="carritoTabla">
                <tr *ngFor="let art of codigoPedido">
                    <td>{{art.codigo}}</td>
                    <td>{{art.nombre}}</td>
                    <td>{{art.precio}}</td>
                    <td>{{art.cantidad}}</td>
                    <td>{{art.total}}</td>
                    <td><button  type="button" class="btn btn-danger" (click)="borrar(art.codigo);ordenarArray()">Borrar</button></td>
                    <td><button  type="button" class="btn btn-warning" (click)="seleccionar(art)">Seleccionar</button></td>
                </tr>
            </tbody>
        </table>

        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-3 px-5" style="margin-left:12cm; margin-top: 3cm;">
                    <div class="input-group input-group-sm mb-3 ">
                        <span class="input-group-text" id="inputGroup-sizing-sm">Total:</span>
                        <input type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm" id="cargoTotal" name="cargoTotal"
                            [(ngModel)]="cargoTotal">
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-success mt-3" (click)="imprimirTicket()">Imprimir Ticket</button>
        </div>
    </div>
</body>